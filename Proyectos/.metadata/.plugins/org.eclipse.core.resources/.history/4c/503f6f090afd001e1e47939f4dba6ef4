/* Includes ------------------------------------------------------------------*/
#include "main.h"
#include "typedefs.h"
#include "config.h"
#include "UART.h"
#include "MAX31865_lib.h"

#define MAX_STRING_LENGTH 20

//static void floatToString(float value, char *buffer, int bufferSize);

static float PT100_Temperature = 0.0f;
/*static uint8_t roundedTemperature = 0;
static uint8_t buffer[MAX_STRING_LENGTH];
static int16_t stringLength = MAX_STRING_LENGTH; // Size of the data string to receive*/

int main(void) {

	/* Reset of all peripherals, Initializes the Flash interface and the Systick. */
	HAL_Init();

	/* Initialize peripherals */
	//MX_SPI1_Init();
	//MAX31865_Init(3);

	/* Infinite loop */
	while (1) {
		/*	PT100_Temperature = MAX31865_Get_Temperature();
		 if (PT100_Temperature > 0) {
		 floatToString(PT100_Temperature, (char*) buffer, sizeof(buffer));
		 uartSendString((uint8_t) buffer);
		 }else {
		 printf("\rError!\r\n");
		 }*/


	}
}

/*void floatToString(float value, char *buffer, int bufferSize) {
	snprintf(buffer, bufferSize, "%d", (int) value); // Formatea el float con dos decimales y lo guarda en el buffer
}*/
